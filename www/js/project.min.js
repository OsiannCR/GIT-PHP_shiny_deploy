jQuery(document).ready(function(o){function e(o,e){console.log(o,e),e.hasOwnProperty("action")||console.log("Invalid WS event");var n=e.action,c=e.actionData;try{a[n](c)}catch(t){console.log(t)}}function n(o){switch(o){case ab.CONNECTION_CLOSED:console.log("Connection was closed properly.");break;case ab.CONNECTION_UNREACHABLE:console.log("Websocket connection could not be established.");break;case ab.CONNECTION_UNSUPPORTED:console.log("Browser does not support WebSocket.");break;case ab.CONNECTION_LOST:default:console.log("Websocket connection lost.")}}function c(o,e){"object"!=typeof e?e={clientId:l}:e.clientId=l,s.call(o,e)}function t(o){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;o>c;c++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var a={log:function(o){alert(o)}},l=t(14);console.log("client id: "+l);var s=new ab.Session("ws://127.0.0.1:8090",function(){console.log("Websocket connection established."),s.subscribe(l,function(o,n){e(o,n)})},function(o){n(o)},{skipSubprotocolCheck:!0});o("#test-event").click(function(o){o.preventDefault();var e={param1:42};c("dummy",e)})});